<label *ngIf="label"
       [for]="innerId"
       class="block text-sm font-medium text-gray-700 hover:cursor-pointer pb-2 invalid-label">
    {{ label }}
</label>

<div class="relative">
    <input #dp="angular-mydatepicker"
           type="text"
           angular-mydatepicker
           [id]="innerId"
           [(ngModel)]="localValue"
           [options]="dpOptions"
           [disabled]="disabled"
           [placeholder]="placeholder"
           (click)="dp.toggleCalendar()"
           (calendarToggle)="onCalendarToggle($event)"
           (ngModelChange)="onDateChange($event)"
           class="shadow-sm block w-full border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm disabled:opacity-75 invalid-control" />

    <div [ngSwitch]="localValue && !disabled"
         class="absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer">
        <svg *ngSwitchCase="true"
             (click)="dp.clearDate()"
             class="h-4 w-4 text-gray-700"
             xmlns="http://www.w3.org/2000/svg"
             fill="none"
             viewBox="0 0 24 24"
             stroke="currentColor">
            <path stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M6 18L18 6M6 6l12 12" />
        </svg>

        <svg *ngSwitchDefault
             (click)="dp.toggleCalendar()"
             xmlns="http://www.w3.org/2000/svg"
             class="h-4 w-4 text-gray-700"
             fill="none"
             viewBox="0 0 24 24"
             stroke="currentColor">
            <path stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
        </svg>
    </div>
</div>

<p *ngIf="helpText.length"
   class="mt-2 text-sm text-gray-500 invalid-label">
    {{ helpText }}
</p>